<?xml version="1.0" encoding="UTF-8" ?>

<odoo>
    <data>
        <template id="islr_voucher">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.basic_layout">
                        <div class="head">
                            <!-- code -->
                        </div>

                        <div class="page">
                            <div class="oe_structure"/>

                            <div class="row">
                                <div class="col-9">
                                    <div class="text-center" style="font-size: 14pt;">
                                        <strong>Comprobante de Retención de Impuesto sobre la Renta</strong>
                                    </div>
                                    <div class="text-center" style="font-size: 10pt;">
                                        <strong>SEGUN GACETA DECRETO 1808 DEL 12/05/1997</strong>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="text-center" style="font-size: 10pt;">
                                        <span>Fecha de Emisión</span>
                                        <br/>
                                        <span t-field="o.date"/>
                                    </div>
                                </div>
                            </div>

                            <br/>

                            <div>
                                <div style="font-size: 12pt;">
                                    <div class="row">
                                        <div class="col" style="border:1px solid black;">
                                            <div class="text-center">
                                                <strong>DATOS DEL AGENTE DE RETENCIÓN</strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div style="font-size: 10pt;">
                                    <div class="row">
                                        <div class="col-3" style="border-left: 1px solid black; border-right: 1px solid black;">
                                            <div class="text-left">
                                                <strong>EMPRESA:</strong>
                                                <br/>
                                                <span t-field="o.company_id.name"/>
                                            </div>
                                        </div>
                                        <div class="col-9" style="border-right: 1px solid black;">
                                            <div class="text-left">
                                                <strong>DIRECCIÓN:</strong>
                                                <br/>
                                                <span t-field="o.company_id.street"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-3" style="border:1px solid black;">
                                            <div class="text-left">
                                                <strong>CIUDAD:</strong>
                                                <br/>
                                                <span t-field="o.company_id.city"/>
                                            </div>
                                        </div>
                                        <div class="col-3" style="border:1px solid black;">
                                            <div class="text-left">
                                                <strong>TELÉFONO:</strong>
                                                <br/>
                                                <span t-field="o.company_id.phone"/>
                                            </div>
                                        </div>
                                        <div class="col-3" style="border:1px solid black;">
                                            <div class="text-left">
                                                <strong>R.I.F.:</strong>
                                                <br/>
                                                <span t-field="o.company_id.vat"/>
                                            </div>
                                        </div>
                                        <div class="col-3" style="border:1px solid black;">
                                            <div class="text-left">
                                                <strong>N.I.T.:</strong>
                                                <br/>
<!--                                                <span t-field="o.invoice_date"/>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <br/>
                            <br/>

                            <div>
                                <div style="font-size: 12pt;">
                                    <div class="row">
                                        <div class="col" style="border:1px solid black;">
                                            <div class="text-center">
                                                <strong>DATOS DEL CONTRIBUYENTE</strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="font-size: 10pt;">
                                    <div class="row">
                                        <div class="col-3" style="border-left: 1px solid black; border-right: 1px solid black;">
                                            <div class="text-left">
                                                <strong>PERSONA:</strong>
                                                <br/>
                                                <span t-field="o.fiscal_provider.x_tipopersona"/>
                                            </div>
                                        </div>
                                        <div class="col-9" style="border-right: 1px solid black;">
                                            <div class="text-left">
                                                <strong>NOMBRE:</strong>
                                                <br/>
                                                <span t-field="o.fiscal_provider.name"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" >
                                        <div class="col-6" style="border:1px solid black;">
                                            <div class="text-left">
                                                <strong>DIRECCIÓN:</strong>
                                                <br/>
                                                <span t-field="o.fiscal_provider.contact_address_complete"/>
                                            </div>
                                        </div>
                                        <div class="col-3" style="border:1px solid black;">
                                            <div class="text-left">
                                                <strong>R.I.F.:</strong>
                                                <br/>
                                                <span t-field="o.fiscal_provider.vat"/>
                                            </div>
                                        </div>
                                        <div class="col-3" style="border:1px solid black;">
                                            <div class="text-left">
                                                <strong>N.I.T.:</strong>
                                                <br/>
<!--                                                <span t-field="o.invoice_date"/>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <br/>
                                <br/>

                                <div style="font-size: 9pt;">
                                    <table class="table table-sm o_main_table" name="invoice_line_table">
                                        <thead>
                                            <tr>
                                                <th name="th_payment_date" class="text-center"><strong>Fecha Pago/Abono</strong></th>
                                                <th name="th_document_number" class="text-center"><strong>Número Documento</strong></th>
                                                <th name="th_control_No" class="text-center"><strong>Nº Control</strong></th>
<!--                                                <th name="th_amount_document" class="text-center"><strong>Monto del Documento</strong></th>-->
                                                <th name="th_amount_paid" class="text-center"><strong>Monto Pagado/Abonado</strong></th>
                                                <th name="th_amount_obt" class="text-center"><strong>Monto Obt/Ret.</strong></th>
                                                <th name="th_retention_percentage" class="text-center"><strong>% Ret</strong></th>
                                                <th name="th_Sustraendo" class="text-center"><strong>Sustraendo</strong></th>
                                                <th name="th_ret_cod" class="text-center"><strong>Cod. Ret.</strong></th>
                                                <th name="th_ret_cod" class="text-center"></th>
                                                <th name="th_description" class="text-center"><strong>Concepto de ISLR</strong></th>
                                                <th name="th_tax_withheld" class="text-center"><strong>Impto Retenido menos Sustraendo</strong></th>
                                            </tr>
                                        </thead>
                                        <tbody class="invoice_tbody">
                                            <t t-foreach="data_islr" t-as="islr">
                                                <tr>
                                                    <td class="text-center">
                                                        <span t-esc="islr['payment_date']"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <span t-esc="islr['document_number']"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <span t-esc="islr['control_No']"/>
                                                    </td>
<!--                                                    <td class="text-center">-->
<!--                                                        <span t-esc="islr['amount_document']"/>-->
<!--                                                    </td>-->
                                                    <td class="text-center">
                                                        <span t-esc="islr['amount_paid']"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <span t-esc="islr['amount_obt']"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <span t-esc="islr['retention_percentage']"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <span t-esc="islr['sustraendo']" t-options='{"widget": "float", "precision": 2}'/>
                                                    </td>
                                                    <td class="text-center">
                                                        <span t-esc="islr['ret_cod']"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <span t-esc="islr['ret_con']"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <span t-esc="islr['description']"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <span t-esc="islr['tax_withheld_line']"/>
                                                    </td>
                                                </tr>
                                            </t>
                                        </tbody>
                                    </table>

                                    <div class="clearfix">
                                        <div id="total" class="row">
                                            <div t-attf-class="#{'col-6' if report_type != 'html' else 'col-sm-7 col-md-6'} ml-auto">
                                                <table class="table table-sm" style="page-break-inside: avoid;">
                                                    <tr class="border-black o_subtotal" style="">
                                                        <td><strong>Total Retenido al Proveedor:</strong></td>
                                                        <td class="text-right">
                                                            <span t-esc="tax_withheld"/>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <br/>

                            <div style="font-size: 12pt;">
                                <div class="row" style="height:30mm;">
                                    <div class="col-8">
                                    </div>
                                    <div class="col-3">
                                        <img t-if="o.company_id.sello" t-att-src="image_data_uri(o.company_id.sello)" class="img-fluid img-thumbnail" alt="Responsive image"/>
                                    </div>
                                    <div class="col-1">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-1">
                                    </div>
                                    <div class="col-4">
                                        <div class="center">
                                            <hr color="black" style="width: 100%"/>
                                            <strong>FIRMA DEL CLIENTE</strong>
                                        </div>
                                    </div>
                                    <div class="col-2">
                                    </div>
                                    <div class="col-4">
                                        <div class="center">
                                            <hr color="black" style="width: 100%"/>
                                            <strong>FIRMA Y SELLO DEL AGENTE DE RETENCION</strong>
                                        </div>
                                    </div>
                                    <div class="col-1">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="footer">
                            <!--  code -->
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>